<h4>{{title}}
    <i ng-show="loading" class='icon-spinner icon-spin'></i>
    <i class='spacing-hack icon-ok'></i>
</h4>
<hr class='settings-separator'>
<table class="table">
    <thead>
        <tr>
            <th>
                <i class='icon-ok'></i>
            </th>
            <th>Cluster Name</th>
            <th>URL</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="cluster in clusters">
            <td>
                <input type="checkbox" ng-model="cluster.checked" ng-click="showSelected(cluster)" ng-checked="cluster.checked" value="{{cluster.id}}" />
            </td>
            <td>{{cluster.name}}</td>
            <td>{{cluster.api_base_url}}</td>
        </tr>
        <tr ng-show="!clusters.length">
            <td ng-click='openAdd()' colspan=3>
                No clusters available.
            </td>
        </tr>
    </tbody>
</table>
<button class="btn" ng-click="openEdit()" ng-disabled='allDisabled || editDisabled' type="button"><i class='icon-edit'></i> Edit</button>
<button class="btn" ng-click="openAdd()" ng-disabled='allDisabled || addDisabled' type="button"><i class='icon-plus'></i> Add</button>
<button class="btn" ng-click="openRemove()" ng-disabled='allDisabled || removeDisabled' type="button"><i class='icon-trash'></i> Remove</button>
<div modal="addClusterOpen" close="closeAdd()" options="opts">
    <div class="modal-header">
        <h3><i class="icon-plus"></i> Add a Cluster</h3>
    </div>
    <div class="modal-body">
        <form name='form' class='css-form' novalidate>
            <fieldset>
                <label for="">Name</label>
                <input name="clusterName" ng-model="cluster.name" required type="text" placeholder="Name of Cluster" />
            </fieldset>
            <fieldset>
                <label for="">Cluster REST API URI</label>
                <input name="clusterAPI" ng-model="cluster.api_base_url" required type="url" placeholder="REST API URI" />
            </fieldset>
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn btn-warning cancel" ng-click="closeAdd()">Cancel</button>
            <button class="btn btn-success" ng-disabled="form.$invalid || isUnChanged(cluster)" ng-click="clusterAdd(cluster)">Add</button>
        </div>
    </div>
</div>
<div modal="editClusterOpen" close="closeEdit()" options="opts">
    <div class="modal-header">
        <h3><i class="icon-edit"></i> Edit Cluster</h3>
    </div>
    <div class="modal-body">
        <form name='form' class='css-form' novalidate>
            <fieldset>
                <label for="">Name</label>
                <input name="clusterName" type="text" required value="{{cluster.name}}" placeholder="Name of Cluster" />
            </fieldset>
            <fieldset>
                <label for="">Cluster REST API URI</label>
                <input name="clusterAPI" type="url" required value="{{cluster.api_base_url}}" placeholder="REST API URI" />
            </fieldset>
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn btn-warning cancel" ng-click="closeEdit()">Discard</button>
            <button class="btn btn-success" ng-disabled="form.$invalid || isUnChanged(cluster)" ng-click="clusterEdit(cluster)">Save</button>
        </div>
    </div>
</div>
